(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{182:function(t,e,n){var content=n(214);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(35).default)("73402f96",content,!0,{sourceMap:!1})},183:function(t,e,n){var content=n(216);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(35).default)("02d22683",content,!0,{sourceMap:!1})},184:function(t,e,n){var content=n(218);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(35).default)("7ad58396",content,!0,{sourceMap:!1})},185:function(t,e,n){var content=n(220);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(35).default)("3b173044",content,!0,{sourceMap:!1})},186:function(t,e,n){var content=n(222);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(35).default)("258c6bde",content,!0,{sourceMap:!1})},213:function(t,e,n){"use strict";var r=n(182);n.n(r).a},214:function(t,e,n){(e=n(34)(!1)).push([t.i,".cellwrap[data-v-171275c4]{border:2px solid hsla(0,0%,93.3%,.93333);border-radius:2px;display:inline-block;text-align:center;vertical-align:center;line-height:25px;font-size:10px}.isFail[data-v-171275c4]{background-color:red}.isHighlighted[data-v-171275c4]{background-color:#00f}.isClicked[data-v-171275c4]{background-color:green}",""]),t.exports=e},215:function(t,e,n){"use strict";var r=n(183);n.n(r).a},216:function(t,e,n){(e=n(34)(!1)).push([t.i,".board[data-v-0ffb2f0c]{margin:0 auto;border:2px solid hsla(0,0%,93.3%,.93333)}.cell-move[data-v-0ffb2f0c]{transition:transform 1s}",""]),t.exports=e},217:function(t,e,n){"use strict";var r=n(184);n.n(r).a},218:function(t,e,n){(e=n(34)(!1)).push([t.i,".board--game[data-v-76d0a426]{padding:30px}.message-row[data-v-76d0a426]{font-size:24px;min-height:36px}.input-name[data-v-76d0a426]{display:inline-block;width:100%;height:calc(1.5em + .75rem + 2px);padding:.375rem 1.75rem .375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;vertical-align:middle;border:1px solid #ced4da;border-radius:.25rem;background-color:hsla(0,0%,93.3%,.93333)}.row-description[data-v-76d0a426]{min-height:24px}.btn-secondary[data-v-76d0a426]:hover{background-color:rgba(85,85,85,.6)}.fade-enter-active[data-v-76d0a426],.fade-leave-active[data-v-76d0a426]{transition:opacity 1s}.fade-enter[data-v-76d0a426],.fade-leave-to[data-v-76d0a426]{opacity:0}.scale-enter-active[data-v-76d0a426],.scale-leave-active[data-v-76d0a426]{transition:all 1s}.scale-enter[data-v-76d0a426],.scale-leave-to[data-v-76d0a426]{transform:scale(0)}",""]),t.exports=e},219:function(t,e,n){"use strict";var r=n(185);n.n(r).a},220:function(t,e,n){(e=n(34)(!1)).push([t.i,".board--leader[data-v-3e3d5c11]{padding:30px}.board--leader_title[data-v-3e3d5c11]{margin-bottom:30px;color:rgba(85,85,85,.6);font-size:40px}.winner[data-v-3e3d5c11]{display:flex;justify-content:space-between;background-color:rgba(85,85,85,.33333);margin-bottom:5px;padding:10px;max-width:80%;color:#555;font-size:20px}.list-enter-active[data-v-3e3d5c11],.list-leave-active[data-v-3e3d5c11]{transition:all 1s}.list-enter[data-v-3e3d5c11],.list-leave-to[data-v-3e3d5c11]{opacity:0;transform:translateX(50px)}",""]),t.exports=e},221:function(t,e,n){"use strict";var r=n(186);n.n(r).a},222:function(t,e,n){(e=n(34)(!1)).push([t.i,".boards[data-v-38b5dda5]{min-height:40vh;padding-top:30px}.col-sm-6[data-v-38b5dda5]{outline:1px solid hsla(0,0%,93.3%,.93333);min-width:40vw}.bg-color[data-v-38b5dda5]{background-color:#fff}",""]),t.exports=e},223:function(t,e,n){"use strict";n.r(e);var r=n(180),o=n.n(r),l=(n(54),n(17)),c={props:["gameModes","isStart"],data:function(){return{selected:null}},methods:{changeMode:function(){this.$emit("changeMode",{changeMode:this.selected})}}},d=n(26),h=Object(d.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-form-select",{staticClass:"mb-3",attrs:{disabled:t.isStart},on:{change:t.changeMode},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[n("b-form-select-option",{attrs:{value:null}},[t._v("Pick game mode")]),t._v(" "),t._l(Object.keys(t.gameModes),(function(e){return n("b-form-select-option",{key:e,attrs:{value:e}},[t._v("\n    "+t._s(e)+"\n    ")])}))],2)],1)}),[],!1,null,null,null).exports,m={props:["keyId","cellSize","cell"],methods:{getCellStyle:function(){return"width: ".concat(this.cellSize,"px; height: ").concat(this.cellSize,"px;")},addClass:function(){return this.cell.isHighlighted?"isHighlighted":this.cell.isClicked?"isClicked":this.cell.isFail?"isFail":void 0}}},f=(n(213),{props:["field","isStart","delay"],data:function(){return{cells:[],cellStyle:"",human:0,skynet:0,isEndGame:!1,isWin:!1,isStop:!1,isSend:!1}},mounted:function(){this.initCells()},components:{Cell:Object(d.a)(m,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"cellwrap",class:this.addClass(),style:this.getCellStyle()},[this._v(this._s(this.keyId))])}),[],!1,null,"171275c4",null).exports},methods:{getBoardStyle:function(){return"width: ".concat(this.widthBoard,"px")},clickCell:function(t){if(t.isHighlighted)return t.isHighlighted=!1,void(t.isClicked=!0)},initCells:function(){for(var t=[],e=this.boardSize(),i=0;i<e;i++)t.push({id:i,isHighlighted:!1,isClicked:!1,isFail:!1});this.cells=t},boardSize:function(){return this.field*this.field},playGame:function(){this.reset(),this.isStop=!1;var t=this.delay,e=this.boardSize(),n=this.getRandomCell(0,e),r=this.cells,o=this.testClick,l=this.endGame,c=this.testStop,d="false",h=!1,m=0;this.skynet,this.human;setTimeout((function f(){r[n[m]].isHighlighted=!0,setTimeout((function(){r[n[m]].isHighlighted=!1,d=o(r[n[m]]),h=c(),"false"!==d||h?"skynet"===d?l("skynet"):"human"===d&&l("human"):m<e-1&&(m++,setTimeout(f,0))}),t)}),0)},reset:function(){this.human=0,this.skynet=0,this.isEndGame=!1,this.isWin=!1,this.$emit("EndGame",{EndGame:this.isEndGame,Win:this.isWin}),this.initCells()},stopGame:function(){this.isStop=!0,this.reset()},testStop:function(){return!0===this.isStop},testClick:function(data){!0!==data.isClicked?(data.isFail=!0,this.skynet++):this.human++;var t=this.boardSize();return this.skynet>t/2?(this.isSend=!0,"skynet"):this.human>t/2?(this.isSend=!0,"human"):"false"},endGame:function(data){"skynet"===data||"human"===data&&(this.isWin=!0),this.setIsEndGame()},setIsEndGame:function(){this.isEndGame=!0,this.$emit("EndGame",{EndGame:this.isEndGame,Win:this.isWin,Send:this.isSend})},getRandomCell:function(t,e){for(var n=[],r=[],o=e-t,l=0;o--;)n.push(o+t);for(;n.length;)l=Math.round(Math.random()*(n.length-1)),r.push(n[l]),n.splice(l,1);return r}},computed:{cellSize:function(){return 450/this.field},widthBoard:function(){return this.field*this.cellSize+4}},watch:{field:function(){this.initCells()}}}),v=(n(215),{components:{Select:h,Board:Object(d.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"board",style:t.getBoardStyle()},[n("transition-group",{attrs:{name:"cell",tag:"div"}},t._l(t.cells,(function(e){return n("Cell",{key:e.id,class:t.cellStyle,attrs:{keyId:e.id,cellSize:t.cellSize,cell:e},nativeOn:{click:function(n){return n.preventDefault(),t.clickCell(e)}}})})),1)],1)])}),[],!1,null,"0ffb2f0c",null).exports},data:function(){return{playerName:"",field:5,gameModes:[],delay:0,currentMode:"",isStart:!1,isEndGame:!1,isWin:!1,messageError:"",winnerName:""}},created:function(){this.getGameSetting()},methods:{playGame:function(){return this.currentMode||(this.messageError="Please select Game mode"),""===this.playerName.trim()&&(this.messageError="Please enter your name"),this.currentMode&&""!==this.playerName.trim()&&(this.messageError="",this.isStart=!0,this.$refs.childBoard.playGame()),!0},stopGame:function(){this.isStart=!1,this.$refs.childBoard.stopGame()},getGameSetting:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://starnavi-frontend-test-task.herokuapp.com/game-settings",e.next=4,o.a.get("https://starnavi-frontend-test-task.herokuapp.com/game-settings").then((function(e){t.gameModes=e.data}));case 4:e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),console.log("Error Axios game-settings",e.t0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()},changeMode:function(data){""===this.playerName.trim()?this.messageError="Please enter your name":this.messageError="",this.currentMode=data.changeMode,this.currentMode&&(this.field=this.gameModes[this.currentMode].field,this.delay=this.gameModes[this.currentMode].delay)},EndGame:function(data){var t=this;this.isEndGame=data.EndGame,this.isEndGame&&(this.isStart=!1),this.isWin=data.Win,this.isWin?this.winnerName=this.playerName:this.winnerName="computer",data.Send&&(this.sendResult(this.winnerName),setTimeout((function(){t.$nuxt.$emit("updateWinner",{updateWinner:!0})}),2e3))},sendResult:function(t){var e=this.setTime();o.a.post("https://starnavi-frontend-test-task.herokuapp.com/winners",{date:e,winner:t}).then((function(t){})).catch((function(t){console.log(t)}))},setTime:function(){var t=new Date,e=this.toDobleDigit(t.getHours()),n=this.toDobleDigit(t.getMinutes()),r=this.toDobleDigit(t.getSeconds()),o=t.getFullYear(),l=this.toDobleDigit(t.getMonth()+1),c=this.toDobleDigit(t.getDate());return"".concat(o,"/").concat(l,"/").concat(c," ").concat(e,":").concat(n,":").concat(r)},toDobleDigit:function(t){return t<10?"0"+t:String(t)}}}),y=(n(217),Object(d.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"board--game"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-4"},[n("Select",{attrs:{gameModes:t.gameModes,isStart:t.isStart},on:{changeMode:t.changeMode}})],1),t._v(" "),n("div",{staticClass:"col-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.playerName,expression:"playerName"}],staticClass:"input-name",attrs:{type:"text",placeholder:"Enter your name",disabled:t.isStart},domProps:{value:t.playerName},on:{input:function(e){e.target.composing||(t.playerName=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"col-4"},[t.isStart?n("button",{staticClass:"btn btn-secondary w-100",on:{click:function(e){return t.stopGame()}}},[t._v("STOP")]):n("button",{staticClass:"btn btn-secondary w-100",on:{click:function(e){return t.playGame()}}},[t._v(t._s(t.isEndGame?"PLAY AGAIN":"PLAY"))])])]),t._v(" "),n("div",{staticClass:"row  mb-3 message-row"},[n("transition",{attrs:{name:"scale"}},[t.isEndGame?n("div",{staticClass:"col text-center message-col"},[t._v("\n      "+t._s(t.isWin?"Congratulations ":"Sorry ")+t._s(t.playerName)+" you "+t._s(t.isWin?"won":"lose")+"\n    ")]):t._e()]),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.messageError?n("div",{staticClass:"col text-center message-col"},[t._v("\n      "+t._s(t.messageError)+"\n    ")]):t._e()])],1),t._v(" "),n("Board",{ref:"childBoard",attrs:{field:t.field,isStart:t.isStart,delay:t.delay},on:{EndGame:t.EndGame}})],1)}),[],!1,null,"76d0a426",null).exports),x={data:function(){return{winners:[],updateWinner:!1}},created:function(){var t=this;this.getWinners(),this.$nuxt.$on("updateWinner",(function(data){t.updateWinner=data.updateWinner}))},methods:{getWinners:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://starnavi-frontend-test-task.herokuapp.com/winners",e.next=4,o.a.get("https://starnavi-frontend-test-task.herokuapp.com/winners").then((function(e){t.winners=e.data.reverse()}));case 4:e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),console.log("Error Axios getWinners ",e.t0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()}},watch:{updateWinner:function(){!0===this.updateWinner&&(this.updateWinner=!1,this.getWinners())}}},k=(n(219),{components:{BoardGame:y,BoardLeader:Object(d.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"board--leader"},[n("h2",{staticClass:"board--leader_title"},[t._v("Leader Board")]),t._v(" "),n("transition-group",{attrs:{name:"list",tag:"div"}},t._l(t.winners,(function(e){return n("div",{key:e.id,staticClass:"winner"},[n("div",{staticClass:"winner__winner"},[t._v(t._s(e.winner))]),t._v(" "),n("div",{staticClass:"winner__date"},[t._v(t._s(e.date))])])})),0)],1)}),[],!1,null,"3e3d5c11",null).exports}}),w=(n(221),Object(d.a)(k,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bg-color"},[e("div",{staticClass:"row boards"},[e("div",{staticClass:"col-md-6"},[e("BoardGame")],1),this._v(" "),e("div",{staticClass:"col-md-6"},[e("BoardLeader")],1)])])}),[],!1,null,"38b5dda5",null));e.default=w.exports}}]);